# Font for window titles. Will also be used by the bar unless a different font
# is used in the bar {} block below.
font pango:monospace 8

# xss-lock grabs a logind suspend inhibit lock and will use i3lock to lock the
# screen before suspend. Use loginctl lock-session to lock your screen.
exec --no-startup-id xss-lock --transfer-sleep-lock -- i3lock --nofork

# NetworkManager is the most popular way to manage wireless networks on Linux,
# and nm-applet is a desktop environment-independent system tray GUI for it.
exec --no-startup-id nm-applet
exec --no-startup-id pasystray

# Start i3bar to display a workspace bar (plus the system information i3status
# finds out, if available)
bar {
        status_command i3status
}

# Win as modifier
set $mod mod4

# Gaps
set $gaps 8

# Softs
set $terminal          urxvt -cd "`xcwd`"
set $terminalfloating  urxvt -name floating -cd "`xcwd`"

# Border style for new windows and floating windows
new_window pixel 3
new_float pixel 3

# Hide container borders adjacent to the screen edges
hide_edge_borders none

# Draw borders only if it is not the only container
smart_borders on

# Use Mouse+$mod to drag floating windows to their wanted position
floating_modifier $mod

# Gaps
gaps inner $gaps
gaps outer $gaps

#
# WORKSPACES
#-----------------------------------

# Customize workspace names
set $workspace1 "T"
set $workspace2 "S"
set $workspace3 "R"
set $workspace4 "N"
set $workspace5 "V"
set $workspace6 "D"
set $workspace7 "L"
set $workspace8 "J"

# Rules for windows
for_window [class="URxvt" instance="floating"] floating enable

# Default layout new workspace "default|stacking|tabbed"
workspace_layout default

# Disable alt-tab style when hit twice a desktop number
workspace_auto_back_and_forth no

# custom switch to workspace
bindsym $mod+mod1+t workspace $workspace1
bindsym $mod+mod1+s workspace $workspace2
bindsym $mod+mod1+r workspace $workspace3
bindsym $mod+mod1+n workspace $workspace4
bindsym $mod+mod1+v workspace $workspace5
bindsym $mod+mod1+d workspace $workspace6
bindsym $mod+mod1+l workspace $workspace7
bindsym $mod+mod1+j workspace $workspace8

# switching between workspace
bindsym $mod+p workspace prev_on_output
bindsym $mod+n workspace next_on_output
bindsym mod1+Shift+Tab workspace prev_on_output
bindsym mod1+Tab workspace next_on_output

# custom move focused container to workspace
bindsym $mod+mod1+Shift+t move container to workspace $workspace1
bindsym $mod+mod1+Shift+s move container to workspace $workspace2
bindsym $mod+mod1+Shift+r move container to workspace $workspace3
bindsym $mod+mod1+Shift+n move container to workspace $workspace4
bindsym $mod+mod1+Shift+v move container to workspace $workspace5
bindsym $mod+mod1+Shift+d move container to workspace $workspace6
bindsym $mod+mod1+Shift+l move container to workspace $workspace7
bindsym $mod+mod1+Shift+j move container to workspace $workspace8

# move focused container to next/previous workspace
bindsym $mod+Shift+n move container to workspace next
bindsym $mod+Shift+p move container to workspace prev

# move current workspace to next/previous output
bindsym $mod+control+c move workspace to output left
bindsym $mod+control+t move workspace to output down
bindsym $mod+control+s move workspace to output up
bindsym $mod+control+r move workspace to output right

#
# AUTOSTART
#-----------------------------------

# Remove screensaver and turn off screen after 5 min
exec --no-startup-id xset +dpms
exec --no-startup-id xset dpms 0 0 300
exec --no-startup-id xset s off

# Compton
exec_always --no-startup-id compton -b

# Change mouse speed
exec --no-startup-id xset m 5 1

# Make keyboard stop faster
exec --no-startup-id sleep 2 && xset r rate 200 25

# Applets
exec --no-startup-id nm-applet

#
# MODES
#-----------------------------------

set $reload_mode "reload"
bindsym $mod+mod1+c mode $reload_mode
mode $reload_mode {
    bindsym c mode "default", reload
    bindsym r mode "default", restart

    bindsym Return mode "default"
    bindsym Escape mode "default"
}

set $resize_mode "resize"
bindsym $mod+h mode $resize_mode
mode $resize_mode {
        bindsym c           resize grow width 5 px or 5 ppt
        bindsym t           resize grow height 5 px or 5 ppt
        bindsym s           resize shrink height 5 px or 5 ppt
        bindsym r           resize shrink width 5 px or 5 ppt

        bindsym Return mode "default"
        bindsym Escape mode "default"
        bindsym h mode "default"
        bindsym $mod+h mode "default"
}

#
# BINDINGS
#-----------------------------------

# Start a terminal
bindsym $mod+Return exec $terminal
bindsym $mod+Shift+Return exec $terminalfloating

# Scratchpad
bindsym $mod+Shift+dollar move scratchpad

# Show the first scratchpad window
bindsym $mod+dollar scratchpad show

# kill focused window
bindsym $mod+q kill
bindsym --release button2 kill
bindsym --whole-window $mod+button2 kill

# change focus
bindsym $mod+c focus left
bindsym $mod+t focus down
bindsym $mod+s focus up
bindsym $mod+r focus right

# move focused window
bindsym $mod+Shift+c move left
bindsym $mod+Shift+t move down
bindsym $mod+Shift+s move up
bindsym $mod+Shift+r move right

# split in horizontal orientation
bindsym $mod+slash split h

# split in vertical orientation
bindsym $mod+minus split v

# enter fullscreen mode for the focused container
bindsym $mod+z fullscreen

# change container layout (stacked, tabbed, toggle split)
bindsym $mod+k layout stacking
bindsym $mod+w layout tabbed
bindsym $mod+e layout toggle split

# Toggle between stacking/tabbed/split:
bindsym $mod+x layout toggle

# toggle tiling / floating
bindsym $mod+f floating toggle

# Change focus between tiling / floating windows
bindsym $mod+Shift+f focus mode_toggle

# focus the parent/child container
bindsym $mod+a focus parent
bindsym $mod+u focus child

# Sound shortcuts
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ +10%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume @DEFAULT_SINK@ -10%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute @DEFAULT_SINK@ toggle

# Sreen brightness controls
bindsym XF86MonBrightnessUp exec xbacklight -inc 20 # increase screen brightness
bindsym XF86MonBrightnessDown exec xbacklight -dec 20 # decrease screen brightness

# Program launcher
bindsym $mod+space exec dmenu_run
